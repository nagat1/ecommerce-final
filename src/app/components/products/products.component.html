<section>
    <div class="text-center p-4 "> 
         <input class="form-control " type="search" placeholder="you can search here....." [(ngModel)]='text' class=" w-1/3 p-2 " >
    </div>
    <p class="text-xl ps-3 py-3 text-black">popular product:</p>
    <div class="grid sm:grid-cols-1 md:grid-cols-5 gap-2 container-fluid">
@for (item of productlist|search:text; track item._id) {
<div class="product flex flex-col px-2 " >
<div class="" [routerLink]="['/details',item.id]">
    <img [src]="item.imageCover" alt="" class="w-100">
<p class="text-green-300">{{item.category.name}}</p>
<h2>{{item.title.split(" ",2).join("")}}</h2>
<div class="flex justify-between pt-2 ">
    <h3>{{item.price}}EGP</h3>
    <div class="flex gap-2">
        @for (item of [1,2,3,4,5].slice(0,item.ratingsAverage); track $index) {
        <i class="fa-solid fa-star fa-sm pt-2" style="color: #FFD43B;"></i>}
        @if(item.ratingsAverage% 1!==0){
            <i class="fa-solid fa-star-half-stroke fa-sm pt-2" style="color: #FFD43B;"></i>
        }
        <!-- @if(item.ratingsAverage% 1!==0){
            <i class="fa-solid fa-star-half-stroke fa-sm pt-2" style="color: #FFD43B;"></i>
        } -->
        <h4>{{item.ratingsAverage}}</h4>
    </div>
</div>
</div>

<div class="py-2 flex justify-center ">
  <button class="btn-main btn1  w-72" (click)="addcart(item.id)">add to cart</button>
  @if (!data.includes(item.id)) {
    <i class="fa-regular fa-heart fa-xl ms-auto cursor-pointer"#noga (click)="addwishlist(item.id);"></i>
   }
   @if (data.includes(item.id)) {
    <i class="fa-solid fa-heart fa-xl ms-auto cursor-pointer text-red-500"#noga (click)="removefromwishlist(item.id);"></i>
   }
</div>
</div>


}
    </div>
</section>
